webpackJsonp([1],{"1/oy":function(t,e){},"8yUi":function(t,e){},"9M+g":function(t,e){},"9dfO":function(t,e){},GOVF:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),r=s("/ocq"),a=s("pFYg"),n=s.n(a),h=s("e6fC"),o={hasClass:(t,e)=>t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")),addClass(t,e){this.hasClass(t,e)||(t.className+=" "+e)},addClassNoCheck(t,e){t.className+=" "+e},removeClass(t,e){if(this.hasClass(t,e)){var s=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(s,"")}},toggleClass(t,e){hasClass(t,e)?removeClass(t,e):addClass(t,e)},vanish(t,e){var s=document.getElementById(t),i=1,r=null,a=100;clearInterval(r),r=setInterval(function(){i=e>a?2:-2,a==e?clearInterval(r):(a+=i,s.style.filter="alpha(opacity="+a+")",s.style.opacity=a/100)},30)}};class l{constructor(t){this.counterId="__system_canvas_counter",this.counter=null,this.initCounter(),this.canvas=document.getElementById(t),this.canvas.width=document.documentElement.clientWidth,this.canvas.height=document.documentElement.clientHeight,this.ctx=this.canvas.getContext("2d"),this.lineWidth=2,this.strokeStyle="#195eec",this.correctCoordinateOffset=15,this.panelId="box",this.nodeClass="box",this.box=document.getElementById(this.panelId),this.node=new Array}adjustCanvasScale(t,e){this.canvas.width=t,this.canvas.height=e}initCounter(){this.counter=document.getElementById(this.counterId),null==this.counter&&(this.counter=document.createElement("input"),this.counter.id=this.counterId,this.counter.type="text",this.counter.value=0,this.counter.hidden=!0,document.body.appendChild(this.counter))}setCounter(t){if(null==this.counter)return!1;this.counter.value=parseInt(this.counter.value)+t}reduceCounter(){if(null==this.counter)return!1;this.counter.value--,this.counter.value<0&&(this.counter.value=0)}getCounter(){return null==this.counter?0:this.counter.value}drawLine(t,e,s,i){t=parseInt(t),t+=this.correctCoordinateOffset,e=parseInt(e),e+=this.correctCoordinateOffset,s=parseInt(s),s+=this.correctCoordinateOffset,i=parseInt(i),i+=this.correctCoordinateOffset,this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.strokeStyle,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(s,i),this.ctx.stroke(),this.ctx.closePath()}handle(t,e){if("create"==t.type){var s=document.createElement(t.elementTag);s.innerHTML=t.value,s.className=t.elementCss,s.className=s.className+" showNode",s.style.left=t.offsetX+"px",s.style.top=t.offsetY+"px",null!=t.id&&s.setAttribute("id",t.id),null==t.container?e.box.appendChild(s):t.container.appendChild(s),1==t.canvas.isDrawLine&&e.drawLine(t.offsetX,t.offsetY,t.canvas.toX,t.canvas.toY)}else"vanish"==t.type?o.vanish(t.id,0):"force"==t.type&&o.addClassNoCheck(document.getElementById(t.id),"forceNode");e.reduceCounter()}clearNodeClass(){this.node=this.box.getElementsByTagName("div");for(var t=0;t<this.node.length;t++)this.node[t].className="box showNode"}clear(){this.box.innerHTML="",this.ctx.clearRect(0,0,document.documentElement.scrollWidth,document.documentElement.scrollHeight)}}class d{constructor(){this.container=null,this.type="",this.value="",this.id=null,this.delayTime=0,this.offsetX=0,this.offsetY=0,this.elementTag="",this.elementCss="",this.trigger=new Array,this.canvas=new Array,this.canvas.isDrawLine=0,this.canvas.toX=0,this.canvas.toY=0}}class c{constructor(t){this.mq=new Array,this.machine=t}push(t){this.mq.push(t)}clear(){this.mq=new Array}run(){var t,e;for(this.machine.setCounter(this.mq.length),this.mq.reverse();this.mq.length>0;)if(e=this.mq.pop(),setTimeout(this.machine.handle,e.delayTime,e,this.machine),e.trigger.length>0)for(t in this.machine.setCounter(e.trigger.length),e.trigger)setTimeout(this.machine.handle,e.trigger[t].delayTime,e.trigger[t],this.machine)}}class u{constructor(){this.canvas=new function(t){return new l(t)}("treeCanvas"),this.queue=new function(t){return new c(t)}(this.canvas),this.data="",this.supportData="",this.node=this.initNode(),this.delayTime=400,this.delayTimeOffset=1,this.nodeWidth=30,this.nodeHeight=100,this.adjustHeight=0,this.boxWidth=this.nodeWidth,this.leftOffsetDefault=180,this.scaleWidth=42,this.correctWidth=10,this.errCode=0,this.errMsg=""}initNodeWidth(){this.treeHight=this.getTreeHeight(this.data.length),this.bottomCount=Math.pow(2,this.treeHight-1),this.halfScrollWidth=parseInt(document.documentElement.scrollWidth/2)-this.nodeWidth/2,this.nodeWidth=(this.nodeWidth*this.bottomCount+20*(this.bottomCount-1))/2,this.nodeWidth<this.halfScrollWidth&&(this.nodeWidth=this.halfScrollWidth),this.canvas.adjustCanvasScale(2*this.nodeWidth+200,this.treeHight*this.nodeHeight+this.nodeHeight+200)}setErr(t,e){this.errCode=t,this.errMsg=e}getErrCode(){return this.errCode}getErrMsg(){return this.errMsg}setData(t){this.data=t,this.initNodeWidth()}setSupportData(t){this.supportData=t}checkData(t){return t.length<=0?(this.setErr(1002,"缺少足够的数据。"),!1):t.length>31?(this.setErr(1002,"数据过多，只允许30个结点。"),!1):void 0}watchDone(){return!(this.getCanvasFactory().getCounter()>0)||(this.setErr(1003,"动画渲染未完成。"),!1)}createBiTree(t){if(t>this.data.length)return null;var e=this.getData(t-1);if("#"==e)return null;var s=this.initNode();return s.index=t-1,s.data=e,s.lchild=this.createBiTree(2*t),s.rchild=this.createBiTree(2*t+1),s}showBiTree(t,e,s,i){if(null!=t){var r=this.createEvent("create",t.data,"tree_"+t.index,this.delayTime*this.delayTimeOffset,"div","box",e,s,null);this.delayTimeOffset++,null!=i&&(r.canvas.isDrawLine=1,r.canvas.toX=i.offsetX,r.canvas.toY=i.offsetY),this.queue.push(r);var a=this.leftOffsetDefault;if(s>this.nodeHeight){var n=s/this.nodeHeight*this.scaleWidth;a=a+Math.pow(s/this.nodeHeight,2)-this.correctWidth}else n=0;s+=this.nodeHeight,this.showBiTree(t.lchild,e-a+n,s,r),this.showBiTree(t.rchild,e+a-n,s,r)}}orderTraversel(t,e){this.delayTimeOffset=0,"in"==e?this.inOrderTraverse1(t):"post"==e?this.postOrderTraverse1(t):this.preOrderTraverse1(t),this.getQueueFactory().run()}preOrderTraverse1(t){if(null!=t){var e=this.createEvent("force",t.data,"tree_"+t.index,this.delayTime*this.delayTimeOffset,"div","box",0,0,null);this.delayTimeOffset++,this.queue.push(e),this.preOrderTraverse1(t.lchild),this.preOrderTraverse1(t.rchild)}}inOrderTraverse1(t){if(null!=t){this.inOrderTraverse1(t.lchild);var e=this.createEvent("force",t.data,"tree_"+t.index,this.delayTime*this.delayTimeOffset,"div","box",0,0,null);this.delayTimeOffset++,this.queue.push(e),this.inOrderTraverse1(t.rchild)}}postOrderTraverse1(t){if(null!=t){this.postOrderTraverse1(t.lchild),this.postOrderTraverse1(t.rchild);var e=this.createEvent("force",t.data,"tree_"+t.index,this.delayTime*this.delayTimeOffset,"div","box",0,0,null);this.delayTimeOffset++,this.queue.push(e)}}getData(t){return this.data[t]}initNode(){return{index:0,lchild:{},rchild:{},data:""}}getTreeHeight(t){for(var e=1,s=0;t>0;)t-=e,e*=2,s++;return s}showBiTreeV2(t,e,s,i){if(null!=t){for(var r=0;r<this.data.length;r++)if(t.data==this.data[r]){var a=this.createEvent("vanish",t.data,"mainTree_"+r,this.delayTime*this.delayTimeOffset,null,null,0,0,null);this.queue.push(a)}for(r=0;r<this.supportData.length;r++)if(t.data==this.supportData[r]){a=this.createEvent("vanish",t.data,"supportTree_"+r,this.delayTime*this.delayTimeOffset,null,null,0,0,null);this.queue.push(a);var n=this.createEvent("create",t.data,"tree_"+t.index,this.delayTime*this.delayTimeOffset+this.delayTime,"div","box",e,s,null);null!=i&&(n.canvas.isDrawLine=1,n.canvas.toX=i.offsetX,n.canvas.toY=i.offsetY),a.trigger.push(n)}this.delayTimeOffset++;var h=this.leftOffsetDefault;if(s>this.nodeHeight+this.adjustHeight){var o=s/(this.nodeHeight+this.adjustHeight)*this.scaleWidth;h=h+Math.pow(s/(this.nodeHeight+this.adjustHeight),2)-this.correctWidth}else o=0;s+=this.nodeHeight,this.showBiTreeV2(t.lchild,e-h+o,s,n),this.showBiTreeV2(t.rchild,e+h-o,s,n)}}makeMainList(t,e){for(var s=document.getElementById("mainTreeList"),i=0;i<this.data.length;i++){var r=this.createEvent("create",this.data[i],"mainTree_"+i,0,"div","box",t,e,s);this.getQueueFactory().push(r),t+=this.boxWidth+this.correctWidth}}makeSuupportList(t,e){for(var s=document.getElementById("supportTreeList"),i=0;i<this.supportData.length;i++){var r=this.createEvent("create",this.supportData[i],"supportTree_"+i,0,"div","box",t,e,s);this.getQueueFactory().push(r),t+=this.boxWidth+this.correctWidth}}createEvent(t,e,s,i,r,a,n,h,o){var l=new function(){return new d};return l.container=o,l.type=t,l.value=e,l.id=s,l.delayTime=i,l.offsetX=n,l.offsetY=h,l.elementTag=r,l.elementCss=a,l}handlePreIn(){var t=this.binaryTreeFromPreIn(0,0,this.data.length);this.adjustHeight=100,this.getQueueFactory().run(),this.showBiTreeV2(t,this.nodeWidth,this.nodeHeight+this.adjustHeight,null)}binaryTreeFromPreIn(t,e,s){if(0==s)return null;var i,r=this.initNode();for(r.data=this.data[t],r.index=t,r.lchild=null,r.rchild=null,i=0;i<s&&this.supportData[e+i]!=this.data[t];i++);return r.lchild=this.binaryTreeFromPreIn(t+1,e,i),r.rchild=this.binaryTreeFromPreIn(t+i+1,e+i+1,s-i-1),r}binaryTreeFromInPost(t,e,s){if(0==s)return null;var i,r=this.initNode();for(r.data=this.supportData[e+s-1],r.index=t,r.lchild=null,r.rchild=null,i=0;i<s&&this.data[t+i]!=this.supportData[e+s-1];i++);return r.lchild=this.binaryTreeFromInPost(t,e,i),r.rchild=this.binaryTreeFromInPost(t+i+1,e+i,s-i-1),r}handleInPost(){var t=this.binaryTreeFromInPost(0,0,this.data.length);this.adjustHeight=100,this.getQueueFactory().run(),this.showBiTreeV2(t,this.nodeWidth,this.nodeHeight+this.adjustHeight,null)}getQueueFactory(){return this.queue}getCanvasFactory(){return this.canvas}}function v(t){return new u(t)}s("Jmt5"),s("9M+g"),s("GOVF");i.a.use(h.a);var p={data:function(){return{agData:"",adDataArray:[],tree:"",errMsg:"手机上看有点异常，用电脑最佳"}},mounted:function(){},methods:{makeBiTree:function(){return this.adDataArray=this.agData.split(","),"object"!=n()(this.tree)&&(this.tree=new v),this.tree.setData(this.adDataArray),0==this.tree.checkData(this.adDataArray)?(this.errMsg=this.tree.getErrMsg(),!1):0==this.tree.watchDone()?(this.errMsg=this.tree.getErrMsg(),!1):(this.tree.getCanvasFactory().clear(),this.errMsg="开始渲染",this.tree.node=this.tree.createBiTree(1),this.tree.delayTimeOffset=0,this.tree.showBiTree(this.tree.node,this.tree.nodeWidth,this.tree.nodeHeight,null),void this.tree.getQueueFactory().run())},preOrderTraverse1:function(){return"object"!=n()(this.tree)?(this.errMsg="请先绘制一个二叉树",!1):0==this.tree.watchDone()?(this.errMsg=this.tree.getErrMsg(),!1):(this.tree.getCanvasFactory().clearNodeClass(),void this.tree.orderTraversel(this.tree.node,"pre"))},inOrderTraverse1:function(){return"object"!=n()(this.tree)?(this.errMsg="请先绘制一个二叉树",!1):0==this.tree.watchDone()?(this.errMsg=this.tree.getErrMsg(),!1):(this.tree.getCanvasFactory().clearNodeClass(),void this.tree.orderTraversel(this.tree.node,"in"))},postOrderTraverse1:function(){return"object"!=n()(this.tree)?(this.errMsg="请先绘制一个二叉树",!1):0==this.tree.watchDone()?(this.errMsg=this.tree.getErrMsg(),!1):(this.tree.getCanvasFactory().clearNodeClass(),void this.tree.orderTraversel(this.tree.node,"post"))}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"main"}},[s("div",{staticClass:"control"},[s("div",{staticClass:"section"},[s("b-navbar",{attrs:{toggleable:"",type:"dark",variant:"info"}},[s("b-navbar-nav",{attrs:{id:"nav_collapse"}},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}]},[t._v("输入二叉树数据")]),t._v(" "),s("b-modal",{attrs:{id:"modal1",title:"Enter BiTree Data"},on:{ok:function(e){t.makeBiTree()}}},[s("p",{staticClass:"my-4"},[t._v("请用如下格式[A,B,C,D,E]来列出二叉树数据，如为空则用“#”表示"),s("br"),t._v("例："),s("br"),t._v("A,B,C,#,E,#,G,#,#,J")]),t._v(" "),s("p",{staticClass:"my-4"},[s("b-form-textarea",{attrs:{id:"textarea1",placeholder:"Please Use 逗号 To Explode",rows:3,"max-rows":6},model:{value:t.agData,callback:function(e){t.agData=e},expression:"agData"}})],1)])],1),t._v(" "),s("b-navbar-nav",{attrs:{id:"nav_collapse"}},[s("b-navbar-nav",{staticStyle:{width:"100px"},attrs:{"is-nav":"",id:"nav_collapse"}}),t._v(" "),s("b-navbar-nav",{attrs:{id:"nav_collapse"}},[s("b-button-group",[s("b-button",{on:{click:function(e){t.preOrderTraverse1()}}},[t._v("前序遍历")]),t._v(" "),s("b-button",{on:{click:function(e){t.inOrderTraverse1()}}},[t._v("中序遍历")]),t._v(" "),s("b-button",{on:{click:function(e){t.postOrderTraverse1()}}},[t._v("后序遍历")])],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"section"},[s("b-alert",{attrs:{show:"",variant:"warning"}},[t._v(t._s(t.errMsg))])],1)]),t._v(" "),s("canvas",{attrs:{id:"treeCanvas"}}),t._v(" "),s("div",{staticStyle:{background:"antiquewhite"},attrs:{id:"box"}})])},staticRenderFns:[]},f=s("VU/8")(p,m,!1,null,null,null).exports,g=[{value:null,text:"请选择"},{value:0,text:"前序数据"},{value:1,text:"中序数据"},{value:2,text:"后序数据"}],y={data:function(){return{mainType:null,supportType:null,optionsMain:g,optionsSupport:g,mainData:"",supportData:"",mainDataArray:"",supportDataArray:"",errMsg:"手机上看有点异常，用电脑最佳",errCode:0}},mounted:function(){},methods:{dynamicOptions:function(t,e){this.optionsMain=g,this.optionsSupport=g;var s=new Array;for(var i in g)g[i].value==t&&null!=g[i].value||s.push(g[i]);"main"==e?this.optionsSupport=s:this.optionsMain=s},makeTree:function(){if("object"!=n()(this.tree)&&(this.tree=new v),this.mainDataArray=this.mainData.split(","),this.supportDataArray=this.supportData.split(","),0==this.tree.checkData(this.mainDataArray))return this.errMsg=this.tree.getErrMsg(),!1;if(0==this.tree.checkData(this.supportDataArray))return this.errMsg=this.tree.getErrMsg(),!1;if(0==this.tree.watchDone())return this.errMsg=this.tree.getErrMsg(),!1;this.tree.getCanvasFactory().clear(),this.errMsg="开始渲染";var t=document.getElementById("mainTreeList");if(t.innerHTML=null,(t=document.getElementById("supportTreeList")).innerHTML=null,0==this.handleOrder())return!1;this.tree.getQueueFactory().run()},initData:function(t,e){this.tree.setData(t),this.tree.setSupportData(e),this.tree.makeMainList(100,100),this.tree.makeSuupportList(100,150)},handleOrder:function(){if(0==this.mainType&&1==this.supportType)this.initData(this.mainDataArray,this.supportDataArray),this.tree.handlePreIn();else{if(0==this.mainType&&2==this.supportType)return this.errMsg="无法确定二叉树（有多种结果）",this.errCode=1005,!1;if(1==this.mainType&&0==this.supportType)this.initData(this.supportDataArray,this.mainDataArray),this.tree.handlePreIn();else if(1==this.mainType&&2==this.supportType)this.initData(this.mainDataArray,this.supportDataArray),this.tree.handleInPost();else{if(2==this.mainType&&0==this.supportType)return this.errMsg="无法确定二叉树（有多种结果）",this.errCode=1005,!1;if(2!=this.mainType||1!=this.supportType)return this.errMsg="参数错误",this.errCode=1004,!1;this.initData(this.supportDataArray,this.mainDataArray),this.tree.handleInPost()}}}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"main"}},[s("div",{staticClass:"control"},[s("div",{staticClass:"section",attrs:{id:"treeDataDiv"}},[s("div",{staticClass:"section"},[s("b-navbar",{attrs:{toggleable:"",type:"dark",variant:"info"}},[s("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}]},[t._v("输入二叉树数据")]),t._v(" "),s("b-modal",{attrs:{id:"modal1",title:"Enter BiTree Data"},on:{ok:function(e){t.makeTree()}}},[s("p",{staticClass:"my-4"},[t._v("请用如下格式[A,B,C,D,E]来列出二叉树数据"),s("br"),t._v("例："),s("br"),t._v("前序：A,B,C,E,H,F,I,J,D,G,K"),s("br"),t._v("中序：A,H,E,C,I,F,J,B,D,K,G")]),t._v(" "),s("p",{staticClass:"my-4"},[s("b-row",{staticClass:"mb-1 text-center"},[s("b-col",{attrs:{sm:"3"}},[s("b-form-select",{staticClass:"mb-3",attrs:{options:t.optionsMain},on:{change:function(e){t.dynamicOptions(e,"main")}},model:{value:t.mainType,callback:function(e){t.mainType=e},expression:"mainType"}})],1),t._v(" "),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea1",placeholder:"Please Use 逗号 To Explode",rows:3,"max-rows":6},model:{value:t.mainData,callback:function(e){t.mainData=e},expression:"mainData"}})],1)],1),t._v(" "),s("b-row",{staticClass:"mb-1"},[s("b-col",{attrs:{sm:"3"}},[s("b-form-select",{staticClass:"mb-3",attrs:{options:t.optionsSupport},on:{change:function(e){t.dynamicOptions(e,"support")}},model:{value:t.supportType,callback:function(e){t.supportType=e},expression:"supportType"}})],1),t._v(" "),s("b-col",[s("b-form-textarea",{attrs:{id:"textarea1",placeholder:"Please Use 逗号 To Explode",rows:3,"max-rows":6},model:{value:t.supportData,callback:function(e){t.supportData=e},expression:"supportData"}})],1)],1)],1)]),t._v(" "),s("b-collapse",{staticStyle:{width:"100px"},attrs:{"is-nav":"",id:"nav_collapse"}})],1)],1)]),t._v(" "),s("div",{staticClass:"section"},[s("b-alert",{attrs:{show:"",variant:"warning"}},[t._v(t._s(t.errMsg))])],1)]),t._v(" "),s("canvas",{attrs:{id:"treeCanvas"}}),t._v(" "),t._m(0),t._v(" "),s("div",{attrs:{id:"box"}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"banner"}},[e("div",{attrs:{id:"mainTreeList"}}),e("div",{attrs:{id:"supportTreeList"}})])}]},b=s("VU/8")(y,T,!1,null,null,null).exports;s("8yUi");i.a.use(h.a);var C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"main"}},[s("div",{staticClass:"idx"},[s("transition",{attrs:{name:"in-out-translate-fade",mode:"in-out"}},[t.on?s("div",{key:"on",staticClass:"timg"},[s("img",{attrs:{src:"/static/img/timg.png"}})]):s("div",{key:"off",staticClass:"menu"},[s("b-card-group",{staticClass:"card-group",attrs:{deck:""}},[s("b-card",{attrs:{header:"<b>二叉树</b>"}},[s("b-list-group",[s("b-list-group-item",{attrs:{href:"/biTreeBase"}},[t._v("常规画二叉树")]),t._v(" "),s("b-list-group-item",{attrs:{href:"/biTreeOrder"}},[t._v("根据排序画二叉树")])],1),t._v(" "),s("p",{staticClass:"card-text mt-2"},[t._v("\n              关于二叉树的一些操作的图形化展示\n            ")])],1)],1)],1)])],1),t._v(" "),s("div",{staticClass:"btn_menu"},[s("b-btn",{attrs:{variant:"outline-success"},on:{click:function(e){t.on=!t.on}}},[t._v("数据结构")]),t._v(" "),s("b-btn",{attrs:{variant:"outline-success",href:"https://github.com/gundamzaku/tantanwen"}},[t._v("GitHub源码")]),t._v(" "),s("b-btn",{attrs:{variant:"outline-success"},on:{click:function(e){t.on=!t.on}}},[t._v("关注我")])],1)])},staticRenderFns:[]},_=s("VU/8")({data:function(){return{on:!0}}},C,!1,null,null,null).exports,D={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"footer"}},[e("p",[this._v(" Copyright © 2018-2018 中原一点点")])])}]};var x=s("VU/8")(null,D,!1,function(t){s("9dfO")},"data-v-5c37180a",null).exports;i.a.use(r.a),i.a.config.productionTip=!1;var w=[{path:"/",component:_},{path:"/biTreeBase",component:f},{path:"/biTreeOrder",component:b}],E=new r.a({mode:"history",routes:w});i.a.component("footer-template",x);new i.a({router:E}).$mount("#app")},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.dc3c018d6b5dfe7ad7e9.js.map